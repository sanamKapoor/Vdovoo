{"version":3,"sources":["components/Modal.js","components/SingleVideo.js","components/Header.js","components/ProfileData.js"],"names":["Modal","useContext","MyContext","data","dispatch","useState","toggleLike","setToggleLike","toggleDislike","setTogglDislike","toggleSave","setToggleSave","init","useCallback","currentVideo","user","fetchCurrentUser","JSON","parse","localStorage","getItem","likedVideos","likeVDO","dislikedVideos","dislikeVDO","saveVideos","saveVDO","length","map","video","useEffect","onClick","type","saveVideo","console","log","appendArr","videoType","currentVDO","filter","index","indexOf","splice","pop","videos","isThere","push","storedUsers","sameUser","currentUser","sessionStorage","email","password","setItem","stringify","e","target","className","hideModal","tabIndex","role","aria-labelledby","aria-hidden","loading","title","src","frameBorder","allow","allowFullScreen","hide","SingleVideo","showModal","isShowModal","snippet","thumbnails","high","url","id","videoId","payload","alt","data-toggle","data-target","Header","search","searchQuery","setSearchQuery","to","name","value","onChange","onKeyPress","key","axios","get","params","part","maxResults","process","q","then","res","items","catch","err","handleSearch","placeholder","aria-haspopup","aria-expanded","removeItem","ProfileData","query","useParams","history","useHistory","getVideos","setType","error","setError","fetchVideos","getVideoType","prev","etag","aria-label"],"mappings":"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","file":"static/js/6.75d902e8.chunk.js","sourcesContent":["import React, { useContext, useState, useEffect, useCallback } from 'react';\nimport { MyContext } from '../Context';\n\nfunction Modal() {\n\n  const { data, dispatch } = useContext(MyContext);\n  const [toggleLike, setToggleLike] = useState(false)\n  const [toggleDislike, setTogglDislike] = useState(false)\n  const [toggleSave, setToggleSave] = useState(false)\n\n  const init = useCallback((currentVideo) => {\n    let user = fetchCurrentUser(JSON.parse(localStorage.getItem('users')));\n    let likedVideos = user.likeVDO;\n    let dislikedVideos = user.dislikeVDO;\n    let saveVideos = user.saveVDO;\n\n    if(likedVideos.length > 0){\n      likedVideos.map(video => {\n        if(video === currentVideo){\n          setToggleLike(true)\n        } \n        return null;\n      })\n    }\n\n    if(dislikedVideos.length > 0){\n      dislikedVideos.map(video => {\n        if(video === currentVideo){\n          setTogglDislike(true)\n        }\n        return null;\n      })\n    }\n\n    if(saveVideos.length > 0){\n      saveVideos.map(video => {\n        if(video === currentVideo){\n          setToggleSave(true)\n        }\n        return null;\n      })\n    }\n  }, [])\n\n  useEffect(() => {\n    init(data.video);\n  }, [data.video, init])\n\n  const onClick = (type) => {\n    saveVideo(type)\n    switch(type){\n      case 'like': \n          setToggleLike(!toggleLike);\n          setTogglDislike(false);\n          break;\n      case 'dislike':\n        setTogglDislike(!toggleDislike);\n        setToggleLike(false);\n        break;\n      case 'save':\n        setToggleSave(!toggleSave);\n        break;\n      default :\n        console.log(type)\n    }\n  }\n\n  const appendArr = (videoType, currentVDO, type) => {\n  if(type){\n    if(videoType.length > 0){\n      videoType.filter(video => {\n        if(video === currentVDO){\n          let index = videoType.indexOf(video);\n          videoType.splice(index, 1)\n        }\n        return null;\n      })\n    } else {\n      videoType.pop(currentVDO)\n    }\n  } else {\n   if(videoType.length > 0){\n    let videos = videoType;\n    let isThere = false;\n\n      videoType.filter(video => {\n        if(video === currentVDO){\n          isThere = true;\n        }\n        return null;\n      })\n\n      if(!isThere){\n        videos.push(currentVDO);\n        videoType = videos;\n      }\n    } else {\n      videoType.push(currentVDO)\n    }\n    }\n  }\n\n  const fetchCurrentUser = (storedUsers) => {\n    let sameUser;\n    let currentUser = JSON.parse(sessionStorage.getItem('user'));\n\n    if(storedUsers.length > 0){\n      storedUsers.filter(user => {\n        if(user.email === currentUser.email && user.password === currentUser.password){\n          sameUser = user\n        }\n        return null;\n      })\n    }\n\n    return sameUser;\n  }\n\n  const saveVideo = type => {\n    let storedUsers = JSON.parse(localStorage.getItem('users'));\n    let sameUser = fetchCurrentUser(storedUsers);\n    let currentVideo;\n    \n          if(data.video){\n      \n            currentVideo = data.video;\n\n            if(currentVideo){\n            if(type === 'save'){\n              appendArr(sameUser.saveVDO, currentVideo, toggleSave)  \n            } \n            else if(type === 'like') {\n              if(!toggleLike){\n                if(sameUser.dislikeVDO.length > 0){\n                  sameUser.dislikeVDO.filter(video => {\n                    if(video === currentVideo){\n                      let index = sameUser.dislikeVDO.indexOf(video);\n                      sameUser.dislikeVDO.splice(index, 1)\n                    }\n                    return null;\n                  })\n                } \n              }\n              appendArr(sameUser.likeVDO, currentVideo, toggleLike)  \n            }\n            else if(type === 'dislike') {\n              if(!toggleDislike){\n                if(sameUser.likeVDO.length > 0){\n                  sameUser.likeVDO.filter(video => {\n                    if(video === currentVideo){\n                      let index = sameUser.likeVDO.indexOf(video);\n                      sameUser.likeVDO.splice(index, 1)\n                    }\n                    return null;\n                  })\n                } \n              }\n              appendArr(sameUser.dislikeVDO, currentVideo, toggleDislike)  \n            }\n            else {\n              return;\n            }\n          }\n    }\n  \n    localStorage.setItem('users', JSON.stringify(storedUsers)); \n  }\n\n \n  const hideModal = e => {\n    if(e.target.className === 'modal fade exampleModalCenter'){\n      dispatch({ type: 'REMOVE_VIDEO' })\n      setToggleSave(false);\n      setToggleLike(false);\n      setTogglDislike(false)\n    }\n  }\n\n  return (\n  <div onClick={(e) => hideModal(e)} className=\"modal fade exampleModalCenter\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n  <div className=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n    <div className=\"modal-content bg-secondary\">\n      <div className=\"modal-body p-0\">\n        <div className=\"embed-responsive embed-responsive-16by9 d-flex justify-content-center align-items-center\">\n          {\n            (data.loading || data.video === '') ?\n            <div className=\"spinner-border text-light\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n            </div> \n            :\n            <iframe title=\"video\" className=\"embed-responsive-item\" src={`https://www.youtube.com/embed/${data.video}`} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen ></iframe>    \n          }\n         \n        </div>       \n        </div>\n\n        <div className=\"m-2\">\n          {\n            data.hide ?\n            ''\n            :  \n          <div className=\"row\">\n            <div className=\"col-6 d-flex\">\n            <div className=\"mx-3 d-flex flex-column modal-icon\">\n              <i \n                onClick={e => onClick('like')} \n                className={`fas fa-thumbs-up fa-1x text-center ${toggleLike ? 'text-primary' : 'text-light' }`}></i>\n              <small>Like</small>\n            </div>\n            <div className=\"mx-3 d-flex flex-column modal-icon\">\n              <i \n                onClick={e => onClick('dislike')} \n                className={`fas fa-thumbs-down fa-1x text-center ${toggleDislike ? 'text-primary' : 'text-light' }`}></i>\n              <small>Dislike</small>\n            </div>\n            <div className=\"mx-3 d-flex flex-column modal-icon\">\n              <i \n                onClick={e => onClick('save')} \n                className={`fas fa-download fa-1x text-center ${toggleSave ? 'text-primary' : 'text-light'} `}></i>\n              <small>Save</small>\n            </div>\n          </div>\n          <div className=\"col-6\"></div>\n          </div>\n\n          }\n        </div>\n    </div>\n  </div>\n</div>\n\n  )\n}\n\nexport default Modal\n","import React, { useContext, useState } from 'react';\nimport { MyContext } from '../Context';\nimport Modal from './Modal';\n\nfunction SingleVideo({data}) {\n\n  const { dispatch } = useContext(MyContext);\n  const [showModal, isShowModal] = useState(true);\n\n  const handleVideo = (id) => {\n    isShowModal(true);\n    dispatch({ type: 'PLAY_VIDEO', payload: id})\n  }\n\n  return (\n    <>\n      {\n      data.snippet.thumbnails.high.url ?\n      <div className=\"card p-0 bg-secondary my-1 my-sm-2 my-md-3\" >\n        <img \n          onClick={() => handleVideo(data.id.videoId)} \n          src={data.snippet.thumbnails.high.url} \n          alt=\"\" \n          data-toggle=\"modal\" data-target=\".exampleModalCenter\"\n          className=\"card-img\" />\n        <div className=\"card-title px-2 pt-2 text-truncate\">\n          {data.snippet.title}\n        </div>\n      </div>\n        :\n        ''\n      }\n      { showModal ? <Modal /> : ''}\n    </>\n  )\n}\n\nexport default SingleVideo\n","import React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { MyContext } from '../Context';\nimport axios from 'axios';\n\nfunction Header({ search }) {\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const { dispatch } = useContext(MyContext);\n\n  const handleSearch = e => {\n    if(e.key === 'Enter'){\n      axios.get('https://www.googleapis.com/youtube/v3/search', {\n        params: {\n          part: \"snippet\",\n          maxResults: 5,\n          key: process.env.REACT_APP_YOUTUBE_API_KEY,\n          q: searchQuery,\n        }\n      })\n        .then(res => {\n          if(res.data.items){\n            dispatch({ type: 'SEARCH_VIDEOS', payload: res.data.items })\n          }\n        })\n        .catch(err => dispatch({ type: 'ERROR', payload: 'Something went wrong!' }))\n\n      setSearchQuery('')\n    }\n  }\n\n  return (\n    <nav className=\"navbar row mx-auto px-3 px-md-5\">\n      <Link to=\"/home\" className=\"col-md-3 col-3 navbar-brand font-weight-bold text-light h4 text-left\">\n        VDOVOO\n      </Link>\n      {\n        search ?\n        <input \n        name=\"searchQuery\" \n        value={searchQuery} \n        onChange={e => setSearchQuery(e.target.value)} \n        onKeyPress={e => handleSearch(e)}\n        className=\"col-md-5 col-11 mx-auto mt-3 mt-md-0 order-md-2 order-3 form-control\" \n        type=\"search\" placeholder=\"Search\" />\n        :\n        ''\n      }\n      \n      <div className=\"col-sm-3 col-7 order-md-3 order-2 align-self-center text-right text-md-center\">\n      <div className=\"btn-group\">\n        <button className=\"btn btn-outline-light btn-sm dropdown-toggle px-2 px-md-3 py-1\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          <i className=\"far fa-user fa-1x pr-1\"></i>\n        </button>\n        <div className=\"dropdown-menu dropdown-menu-right text-center\">\n          <Link to=\"/profile/like\" className=\"dropdown-item mx-0\" >Liked</Link>\n          <Link to=\"/profile/dislike\" className=\"dropdown-item mx-0\" >Disliked</Link>\n          <Link to=\"/profile/save\" className=\"dropdown-item mx-0\" >Saved</Link>\n          <Link to=\"/\" onClick={() => sessionStorage.removeItem('user')} className=\"btn btn-secondary btn-sm my-1 mx-2 mx-md-0\">Logout</Link>\n        </div>\n      </div>\n    </div>\n  </nav>\n  )\n}\n\nexport default Header\n","import React, { useState, useEffect, useCallback } from 'react'\nimport Header from './Header';\nimport axios from 'axios';\nimport { Link, useParams } from 'react-router-dom';\nimport SingleVideo from './SingleVideo';\nimport { useHistory } from 'react-router-dom';\n\nfunction ProfileData() {\n\n  const { query } = useParams();\n  const history = useHistory();\n\n  const [videos, getVideos] = useState([]);\n  const [type, setType] = useState('');\n  const [error, setError] = useState('');\n  \n  const fetchVideos = useCallback((storedUsers) => {\n    let sameUser;\n\n    let currentUser = JSON.parse(sessionStorage.getItem('user'))\n\n    if(currentUser){\n      if(storedUsers.length > 0){\n        storedUsers.filter(user => {\n          if(user.email === currentUser.email && user.password === currentUser.password){\n            sameUser = user;\n          } \n          return null;\n        })\n      }\n    } \n\n    if(sameUser){\n      if(query === 'like'){\n        setType('Liked Videos');\n        getVideoType(sameUser.likeVDO)      \n      } \n      else if(query === 'dislike') {\n        setType('Disliked Videos');\n        getVideoType(sameUser.dislikeVDO)\n      }\n      else if(query === 'save') {\n        setType('Saved Videos');\n        getVideoType(sameUser.saveVDO)\n      }\n      else {\n        return;\n      }\n    } else {\n      history.push('/home');\n      return;\n    }\n  }, [history, query])\n\n  useEffect(() => {\n    getVideos([]);\n    setError(error)\n\n    fetchVideos(JSON.parse(localStorage.getItem('users')))\n  }, [ query, error, fetchVideos ])\n\n  const getVideoType = (videoType) => {\n    if(videoType.length > 0){\n      for(let video of videoType){\n          axios.get('https://www.googleapis.com/youtube/v3/search', {\n            params: {\n              part: \"snippet\",\n              maxResults: 1,\n              key: process.env.REACT_APP_YOUTUBE_API_KEY,\n              q: video,\n            }\n          })\n          .then(res=> {\n            if(res.data){\n              getVideos(prev => [...prev, res.data.items[0] ])\n            }\n          })\n          .catch(err => {\n              setError('Something went wrong on server end!');\n          })\n      }\n    } else {\n      setError('No video found');\n    }\n  }\n  \n  return (\n    <>\n    <Header search={false} />\n    <div className=\"container-fluid mb-4 mb-sm-5\">\n     <div className=\"my-2 my-md-3\">\n      <Link to=\"/home\">\n        <i className=\"fa fa-arrow-left text-light my-2\"></i>\n      </Link>\n      <h1 className=\"text-capitalize mt-2 mb-4\">{type}</h1>\n      {\n        videos.length > 0\n        ?\n        <div className=\"video-row mt-2 mt-md-2\">\n          {  \n            videos.map(video => {\n              return <SingleVideo data={video} key={video.etag} />\n            })\n          }\n        </div>  \n        :\n        error ?\n        <p className=\"text-center mt-3 mt-md-4 mx-2\">{error}</p>\n        :\n        <div className=\"text-center mt-3 mt-md-4\">\n        <div className=\"spinner-border text-light\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n         </div>\n        </div>\n      }\n     </div>\n     </div>\n     <div className=\"py-1 py-md-2 text-center text-sm-right watermark\"> \n          <span className=\"mx-2\">Made with <span aria-label=\"img\" role=\"img\">❤️</span> by Sanam Kapoor</span>\n      </div>\n    </>\n  )\n}\n\nexport default ProfileData\n"],"sourceRoot":""}