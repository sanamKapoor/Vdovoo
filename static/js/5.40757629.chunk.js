(this.webpackJsonpvdovoo=this.webpackJsonpvdovoo||[]).push([[5],{38:function(e,t,a){"use strict";var n=a(13),l=a(0),r=a.n(l),c=a(14);var s=function(){var e=Object(l.useContext)(c.a),t=e.data,a=e.dispatch,s=Object(l.useState)(!1),i=Object(n.a)(s,2),o=i[0],m=i[1],d=Object(l.useState)(!1),u=Object(n.a)(d,2),p=u[0],f=u[1],g=Object(l.useState)(!1),v=Object(n.a)(g,2),b=v[0],E=v[1],h=Object(l.useCallback)((function(e){var t=y(JSON.parse(localStorage.getItem("users"))),a=t.likeVDO,n=t.dislikeVDO,l=t.saveVDO;a.length>0&&a.map((function(t){return t===e&&m(!0),null})),n.length>0&&n.map((function(t){return t===e&&f(!0),null})),l.length>0&&l.map((function(t){return t===e&&E(!0),null}))}),[]);Object(l.useEffect)((function(){h(t.video)}),[t.video,h]);var x=function(e){switch(N(e),e){case"like":m(!o),f(!1);break;case"dislike":f(!p),m(!1);break;case"save":E(!b);break;default:console.log(e)}},O=function(e,t,a){if(a)e.length>0?e.filter((function(a){if(a===t){var n=e.indexOf(a);e.splice(n,1)}return null})):e.pop(t);else if(e.length>0){var n=e,l=!1;e.filter((function(e){return e===t&&(l=!0),null})),l||(n.push(t),e=n)}else e.push(t)},y=function(e){var t,a=JSON.parse(sessionStorage.getItem("user"));return e.length>0&&e.filter((function(e){return e.email===a.email&&e.password===a.password&&(t=e),null})),t},N=function(e){var a,n=JSON.parse(localStorage.getItem("users")),l=y(n);if(t.video&&(a=t.video))if("save"===e)O(l.saveVDO,a,b);else if("like"===e)o||l.dislikeVDO.length>0&&l.dislikeVDO.filter((function(e){if(e===a){var t=l.dislikeVDO.indexOf(e);l.dislikeVDO.splice(t,1)}return null})),O(l.likeVDO,a,o);else{if("dislike"!==e)return;p||l.likeVDO.length>0&&l.likeVDO.filter((function(e){if(e===a){var t=l.likeVDO.indexOf(e);l.likeVDO.splice(t,1)}return null})),O(l.dislikeVDO,a,p)}localStorage.setItem("users",JSON.stringify(n))};return r.a.createElement("div",{onClick:function(e){return function(e){"modal fade exampleModalCenter"===e.target.className&&(a({type:"REMOVE_VIDEO"}),E(!1),m(!1),f(!1))}(e)},className:"modal fade exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content bg-secondary"},r.a.createElement("div",{className:"modal-body p-0"},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9 d-flex justify-content-center align-items-center"},t.loading||""===t.video?r.a.createElement("div",{className:"spinner-border text-light",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("iframe",{title:"video",className:"embed-responsive-item",src:"https://www.youtube.com/embed/".concat(t.video),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))),r.a.createElement("div",{className:"m-2"},t.hide?"":r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 d-flex"},r.a.createElement("div",{className:"mx-3 d-flex flex-column modal-icon"},r.a.createElement("i",{onClick:function(e){return x("like")},className:"fas fa-thumbs-up fa-1x text-center ".concat(o?"text-primary":"text-light")}),r.a.createElement("small",null,"Like")),r.a.createElement("div",{className:"mx-3 d-flex flex-column modal-icon"},r.a.createElement("i",{onClick:function(e){return x("dislike")},className:"fas fa-thumbs-down fa-1x text-center ".concat(p?"text-primary":"text-light")}),r.a.createElement("small",null,"Dislike")),r.a.createElement("div",{className:"mx-3 d-flex flex-column modal-icon"},r.a.createElement("i",{onClick:function(e){return x("save")},className:"fas fa-download fa-1x text-center ".concat(b?"text-primary":"text-light"," ")}),r.a.createElement("small",null,"Save"))),r.a.createElement("div",{className:"col-6"}))))))};t.a=function(e){var t=e.data,a=Object(l.useContext)(c.a).dispatch,i=Object(l.useState)(!0),o=Object(n.a)(i,2),m=o[0],d=o[1];return r.a.createElement(r.a.Fragment,null,t.snippet.thumbnails.high.url?r.a.createElement("div",{className:"card p-0 bg-secondary my-1 my-sm-2 my-md-3"},r.a.createElement("img",{onClick:function(){return e=t.id.videoId,d(!0),void a({type:"PLAY_VIDEO",payload:e});var e},src:t.snippet.thumbnails.high.url,alt:"","data-toggle":"modal","data-target":".exampleModalCenter",className:"card-img"}),r.a.createElement("div",{className:"card-title px-2 pt-2 text-truncate"},t.snippet.title)):"",m?r.a.createElement(s,null):"")}},39:function(e,t,a){"use strict";var n=a(13),l=a(0),r=a.n(l),c=a(15),s=a(14),i=a(36),o=a.n(i);t.a=function(e){var t=e.search,a=Object(l.useState)(""),i=Object(n.a)(a,2),m=i[0],d=i[1],u=Object(l.useContext)(s.a).dispatch;return r.a.createElement("nav",{className:"navbar row mx-auto px-3 px-md-5"},r.a.createElement(c.b,{to:"/home",className:"col-md-3 col-3 navbar-brand font-weight-bold text-light h4 text-left"},"VDOVOO"),t?r.a.createElement("input",{name:"searchQuery",value:m,onChange:function(e){return d(e.target.value)},onKeyPress:function(e){return function(e){"Enter"===e.key&&(o.a.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",maxResults:5,key:"AIzaSyDRoPyeSE1yUrBeb-KFNk9z5thJgmG7f4g",q:m}}).then((function(e){e.data.items&&u({type:"SEARCH_VIDEOS",payload:e.data.items})})).catch((function(e){return u({type:"ERROR",payload:"Something went wrong!"})})),d(""))}(e)},className:"col-md-5 col-11 mx-auto mt-3 mt-md-0 order-md-2 order-3 form-control",type:"search",placeholder:"Search"}):"",r.a.createElement("div",{className:"col-sm-3 col-7 order-md-3 order-2 align-self-center text-right text-md-center"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{className:"btn btn-outline-light btn-sm dropdown-toggle px-2 px-md-3 py-1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"far fa-user fa-1x pr-1"})),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right text-center"},r.a.createElement(c.b,{to:"/profile/like",className:"dropdown-item mx-0"},"Liked"),r.a.createElement(c.b,{to:"/profile/dislike",className:"dropdown-item mx-0"},"Disliked"),r.a.createElement(c.b,{to:"/profile/save",className:"dropdown-item mx-0"},"Saved"),r.a.createElement(c.b,{to:"/",onClick:function(){return sessionStorage.removeItem("user")},className:"btn btn-secondary btn-sm my-1 mx-2 mx-md-0"},"Logout")))))}},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(39),c=a(1),s=a(13),i=a(14),o=a(36),m=a.n(o),d=a(37),u=a(35),p=a(38);var f=function(e){var t=e.allVideos;return t.length>0?t.map((function(e){return e.videos?l.a.createElement("div",{key:e.type},l.a.createElement("h1",{className:"text-capitalize"},e.type),l.a.createElement("div",{className:"video-row"},e.videos.map((function(e){return e.id.videoId?l.a.createElement(p.a,{data:e,key:e.etag}):null})))):null})):l.a.createElement("div",{className:"text-center mt-4"},l.a.createElement("div",{className:"spinner-border text-light",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")))};var g=function(){var e=Object(n.useContext)(i.a).data,t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)([]),m=Object(s.a)(o,2),g=m[0],v=m[1],b=Object(n.useState)(!0),E=Object(s.a)(b,2),h=E[0],x=E[1];return Object(n.useEffect)((function(){if(e.searchResult.length>0)v(e.searchResult);else{if(h){var t,a=Object(u.a)(e.category);try{var n=function(){var e=t.value,a=JSON.parse(localStorage.getItem(e));c((function(t){return[].concat(Object(d.a)(t),[{type:e,videos:a}])}))};for(a.s();!(t=a.n()).done;)n()}catch(l){a.e(l)}finally{a.f()}}x(!1)}}),[e,h]),l.a.createElement("div",{className:"container-fluid mb-4 mb-sm-5"},g.length>0?l.a.createElement("div",null,l.a.createElement("h1",{className:"text-capitalize"},"Search Results"),l.a.createElement("div",{className:"video-row my-2 my-md-3"},g.map((function(e){return e.id.videoId?l.a.createElement(p.a,{data:e,key:e.etag}):null})))):r.length>0?l.a.createElement(f,{allVideos:r}):"")};var v=function(){var e=Object(n.useContext)(i.a),t=e.data,a=e.dispatch,r=Object(n.useState)(!1),c=Object(s.a)(r,2),o=c[0],d=c[1],u=Object(n.useCallback)((function(e){m.a.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",maxResults:5,key:"AIzaSyDRoPyeSE1yUrBeb-KFNk9z5thJgmG7f4g",q:e}}).then((function(t){if(localStorage.getItem(e)){var n=JSON.parse(localStorage.getItem(e));n=t.data.items,localStorage.setItem(e,JSON.stringify(n))}else{var l;l=t.data.items,localStorage.setItem(e,JSON.stringify(l))}a({type:"ERROR",payload:""})})).catch((function(t){t&&!localStorage.getItem(e)&&a({type:"ERROR",payload:"Something went wrong!"})}))}),[a]);return Object(n.useEffect)((function(){t.category.map((function(e){return u(e),null})),setTimeout((function(){return d(!0)}),2e3)}),[o,t.category,u]),t.error?l.a.createElement("div",{className:"text-center mt-3 mt-md-4 mx-2"},l.a.createElement("h1",null,t.error),l.a.createElement("p",{className:"text-muted"},"Try again with reloading the page.")):o?l.a.createElement("div",null,l.a.createElement(g,null)):l.a.createElement("div",{className:"text-center mt-3 mt-md-4"},l.a.createElement("p",null,"Please wait..."))};t.default=function(){var e=Object(c.g)().state,t=Object(c.f)();return Object(n.useEffect)((function(){if(e){var t={email:e.user.email,password:e.user.password};sessionStorage.setItem("user",JSON.stringify(t))}}),[e]),e||JSON.parse(sessionStorage.getItem("user"))?l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{search:!0}),l.a.createElement(v,null),l.a.createElement("div",{className:"py-1 py-md-2 text-center text-sm-right watermark"},l.a.createElement("span",{className:"mx-2"},"Made with ",l.a.createElement("span",{"aria-label":"img",role:"img"},"\u2764\ufe0f")," by Sanam Kapoor"))):(t.push("/"),"")}}}]);
//# sourceMappingURL=5.40757629.chunk.js.map