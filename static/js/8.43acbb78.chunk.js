(this.webpackJsonpvdovoo=this.webpackJsonpvdovoo||[]).push([[8],{68:function(e,a,t){"use strict";t.r(a);var s=t(35),r=t(13),n=t(0),o=t.n(n),l=t(67),i=t(1);a.default=function(){var e=Object(n.useState)(!0),a=Object(r.a)(e,2),t=a[0],m=a[1],c=Object(l.a)({mode:"onChange"}),d=c.register,u=c.handleSubmit,f=c.errors,p=c.watch,b=c.reset,g=Object(n.useState)(!1),v=Object(r.a)(g,2),w=v[0],h=v[1],E=Object(i.f)(),N=function(e,a){if(t){if(e.email===a.email&&e.password===a.password){var s={email:e.email,password:e.password};return localStorage.setItem("vdovoo_user",JSON.stringify(s)),E.push("/home"),void b()}return h("Please enter correct email and password."),setTimeout((function(){h("")}),2e3),void b()}h("User with this email already exist."),setTimeout((function(){h("")}),2e3),b()},y=function(e,a){if(t)return h("User with this email does not exist."),setTimeout((function(){h("")}),2e3),void b()};return Object(n.useEffect)((function(){!function(e){setTimeout((function(){e.email=null,e.password=null,e.confirmPassword=null}),1e3)}(f)}),[f]),o.a.createElement("section",null,o.a.createElement("div",{className:"row content"},o.a.createElement("div",{className:"col login-bg d-lg-block d-none"}),o.a.createElement("div",{className:"col login-area py-md-5 py-3 bg-light d-flex flex-column justify-content-center align-items-center text-dark"},o.a.createElement("div",{className:"w-100 p-lg-3 p-2"},o.a.createElement("h1",{className:"font-weight-bold mb-4"},o.a.createElement("span",{className:"text-danger"},"VDO"),"VOO"),o.a.createElement("div",{className:"btn-group float-right",role:"group","aria-label":"Basic example"},o.a.createElement("button",{type:"button",onClick:function(){return m(!0)},className:t?"btn btn-sm btn-secondary":"btn btn-sm btn-outline-secondary"},"Login"),o.a.createElement("button",{type:"button",onClick:function(){return m(!1)},className:t?"btn btn-sm btn-outline-secondary":"btn btn-sm btn-secondary"},"SignUp"))),o.a.createElement("form",{className:"form w-100 p-lg-3 p-2",onSubmit:u((function(e){var a=JSON.parse(localStorage.getItem("vdovoo_users"));if(a){var r,n=Object(s.a)(a);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.email===e.email)return void N(o,e);y()}}catch(w){n.e(w)}finally{n.f()}(function(e){if(!t){var a={email:e.email,password:e.password,likeVDO:[],dislikeVDO:[],saveVDO:[]},s=JSON.parse(localStorage.getItem("vdovoo_users"));s.push(a),localStorage.setItem("vdovoo_users",JSON.stringify(s)),m(!0),b()}})(e)}else!function(e){if(t)return h("You need to sign in first."),setTimeout((function(){h("")}),2e3),void b();var a={email:e.email,password:e.password,likeVDO:[],dislikeVDO:[],saveVDO:[]},s=[];s.push(a),localStorage.setItem("vdovoo_users",JSON.stringify(s)),b(),m(!0)}(e)}))},o.a.createElement("div",{className:"my-3"},o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("input",{type:"email",name:"email",ref:d({required:"Email is required.",pattern:{value:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}}),placeholder:"johndoe@gmail.com",className:"form-control"}),f.email&&o.a.createElement("small",{className:"text-danger"},f.email.message)),o.a.createElement("div",{className:"my-3"},o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{type:"password",name:"password",ref:d({required:"Password is required.",minLength:{value:5,message:"Password should be 5 characters long."}}),placeholder:"**************",className:"form-control"}),f.password&&o.a.createElement("small",{className:"text-danger"},f.password.message)),t?"":o.a.createElement("div",{className:"my-3"},o.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password"),o.a.createElement("input",{type:"password",name:"confirmPassword",ref:d({required:"Confirm your password",validate:function(e){return e===p("password")||"Passwords don't match."}}),placeholder:"**************",className:"form-control"}),!t&&f.confirmPassword&&o.a.createElement("small",{className:"text-danger"},f.confirmPassword.message)),w&&o.a.createElement("small",{className:"text-danger"},w),o.a.createElement("button",{type:"submit",className:"btn w-100 p-2 mt-2 submit-btn"},t?"Login":"Sign Up")))))}}}]);
//# sourceMappingURL=8.43acbb78.chunk.js.map